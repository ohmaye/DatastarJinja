<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}EF Tokyo{% endblock %}</title>
    <link href="{{ url_for('static', path='/output.css') }}" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@v1.0.0-beta.9/bundles/datastar.js"></script>
    <script defer src="https://unpkg.com/lucide@latest"></script>
    {% block head %}{% endblock %}
</head>

<body class="bg-white">
    <!-- Full-width top bar -->
    <header class="w-full bg-white shadow-sm">
        <div class="container px-0">
            <div class="flex items-center">
                <!-- Logo and Title - Left aligned in first 64 width -->
                <div class="flex items-center w-64 p-2 justify-between">
                    <img src="{{ url_for('static', path='/EF Logo.png') }}" class="w-10 h-10">
                    <h1 class="text-xl text-indigo-400 ml-2">Tokyo</h1>
                    <button data-on-click="$nav_open = !$nav_open" class="ml-24">
                        <i data-lucide="menu" class="text-indigo-500" width="24" height="24"></i>
                    </button>
                </div>
                
                <!-- Tab Navigation - Starting exactly at right edge of nav panel -->
                <div class="flex-1">
                    {% block tab_navigation %}
                    <div class="flex flex-nowrap items-center ml-18">
                        <div class="flex space-x-1 mr-6">
                            <button class="bg-blue-200 px-3 py-1 rounded">IM1</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IM2</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IM3</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IW1</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IW2</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IW3</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IW4</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">IW5</button>
                        </div>
                        <div class="flex space-x-1">
                            <button class="bg-blue-200 px-3 py-1 rounded">GA1</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">GA2</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">GA3</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">GA4</button>
                            <button class="bg-blue-200 px-3 py-1 rounded">GA5</button>
                        </div>
                    </div>
                    {% endblock %}
                </div>
                
                <!-- Action Buttons -->
                <div class="p-4">
                    {% block header_actions %}{% endblock %}
                </div>
            </div>
        </div>
    </header>

    <div class="flex h-screen pt-1">
        <!-- Left Navigation Sidebar -->
        <aside class="w-64 min-h-screen bg-white shadow-md">
            {% include "layout.html" %}
        </aside>
        
        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col">
            <!-- Main Content -->
            <main class="flex-1 overflow-auto p-6">
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
        });
    </script>
</body>
</html>